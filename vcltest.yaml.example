# VCLTest Configuration Example

# Port for the varnishadm server (required)
# This is where varnishd will connect for CLI management
varnishadm_port: 6082

# Shared secret for varnishadm authentication (optional)
# If not specified, a random secret will be generated at startup
# secret: "your-secret-here"

# Path to varnishd executable (optional)
# If not specified, defaults to "varnishd" (PATH lookup)
# varnish_cmd: "/usr/local/bin/varnishd"

# Working directory for Varnish files (required)
# Used for VCL files, secret file, and license
work_dir: "/tmp/vcltest-work"

# Varnish -n directory (required)
# Used for shared memory and state files
varnish_dir: "/tmp/vcltest-varnish"

# Storage configuration (optional)
# Additional storage arguments passed to varnishd
storage_args:
  - "-s"
  - "malloc,100M"

# Varnish Enterprise license (optional)
license:
  # Option 1: Inline license text
  # text: "YOUR-LICENSE-TEXT-HERE"

  # Option 2: Path to license file
  # file: "/path/to/varnish-enterprise.lic"

# Varnish daemon configuration
varnish:
  # Admin/management port (required)
  # This must be different from varnishadm_port
  admin_port: 6083

  # HTTP listening addresses (optional)
  http:
    - address: ""  # Empty means all interfaces
      port: 8080
    # - address: "127.0.0.1"
    #   port: 8081

  # HTTPS listening addresses with TLS termination (optional)
  # Certificates must be loaded via varnishadm CLI after startup
  # https:
  #   - address: ""
  #     port: 8443

  # Additional command-line arguments (optional)
  # extra_args:
  #   - "-p"
  #   - "feature=+http2"
